{"version":3,"sources":["App.tsx","bubble-heart.tsx","reportWebVitals.js","index.js"],"names":["bubbleEffect","keyframes","Wrapper","styled","div","p","size","top","left","delay","BubbleHeart","useMemo","Math","floor","random","HeartFilled","Container","Header","Dot","Bar","TopBar","BottomBar","HeaderText","Background","Shadow","HeartIconWrapper","JumboNumber","Footer","bubbleHeartArray","i","push","App","useState","flag","setFlag","since","moment","now","diffDays","diff","diffSeconds","useEffect","interval","setInterval","clearInterval","animating","setAnimating","a","Promise","resolve","setTimeout","console","log","onClick","style","width","map","v","index","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yHA8FA,I,qJC1FMA,EAAeC,YAAH,iOAiBZC,EAAUC,IAAOC,IAAV,yKAEE,SAAAC,GAAC,OAAIA,EAAEC,QAGb,SAAAD,GAAC,OAAIA,EAAEE,OACN,SAAAF,GAAC,OAAIA,EAAEG,OACFR,GAA0B,SAAAK,GAAC,OAAIA,EAAEI,SAGnCC,EAAkB,WAE7B,IAAMD,EAAQE,mBAAQ,kBACc,GAAlCC,KAAKC,MAAsB,IAAhBD,KAAKE,YACf,IACGR,EAAOK,mBAAQ,kBACnBC,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,KAChC,IACGP,EAAMI,mBAAQ,kBAClBC,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,GAAKR,EAAK,IAC3C,IACGE,EAAOG,mBAAQ,kBACnBC,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,GAAKR,EAAK,IAC3C,IAEH,OACE,cAACJ,EAAD,CAASI,KAAMA,EAAME,KAAMA,EAAMD,IAAKA,EAAKE,MAAOA,EAAlD,SACE,cAACM,EAAA,EAAD,OD1CAC,EAAYb,IAAOC,IAAV,4JASTa,EAASd,IAAOC,IAAV,qDAINc,EAAMf,IAAOC,IAAV,2IAQHe,EAAMhB,IAAOC,IAAV,kJAQHgB,EAASjB,YAAOgB,EAAPhB,CAAH,4CAINkB,EAAYlB,YAAOgB,EAAPhB,CAAH,6CAITmB,EAAanB,IAAOC,IAAV,sEAKVmB,EAAapB,IAAOC,IAAV,6KAUVoB,EAASrB,IAAOC,IAAV,0KASNqB,EAAmBtB,IAAOC,IAAV,0HAQhBsB,EAAcvB,IAAOC,IAAV,yKAWXuB,EAASxB,IAAOC,IAAV,kGAONwB,EAA2B,GACxBC,EAAI,EAAGA,EAAI,GAAIA,IACtBD,EAAiBE,KAAK,MA+ETC,MA5Ef,WAAgB,IAAD,EACWC,mBAAS,IADpB,mBACNC,EADM,KACAC,EADA,KAEPC,EAAQxB,mBAAQ,kBACpByB,IAAO,WAAY,cAClB,IACGC,EAAM1B,mBAAQ,kBAClByB,QACC,CAACH,IAEEK,EAAWD,EAAIE,KAAKJ,EAAO,QAC3BK,EAAcH,EAAIE,KAAKJ,EAAO,WAEpCM,qBAAU,WACR,IAAMC,EAAWC,aAAY,WAC3BT,EAAQ,MACP,KACH,OAAO,WACLU,cAAcF,MAEf,IAnBU,MAqBqBV,oBAAS,GArB9B,mBAqBNa,EArBM,KAqBKC,EArBL,iDAwBb,sBAAAC,EAAA,0DACMF,EADN,wDAIEC,GAAa,GAJf,SAKQ,IAAIE,SAAc,SAAAC,GACtBC,YAAW,WAAOD,MAAY,QANlC,OAQEH,GAAa,GARf,4CAxBa,sBAmCb,OAbAK,QAAQC,IAAI,YAAaP,GAcvB,eAAC7B,EAAD,WACE,eAACC,EAAD,WACE,cAACC,EAAD,IACA,cAACE,EAAD,IACA,cAACE,EAAD,mDAGA,cAACD,EAAD,OAEF,eAACE,EAAD,WACE,cAACE,EAAD,CAAkB4B,QA9CX,2CA8CP,SACE,cAACtC,EAAA,EAAD,MAEF,cAACS,EAAD,CAAQ8B,MAAO,CAACC,MAAO,OAAQhD,IAAK,OAAQC,KAAM,WAClD,cAACgB,EAAD,CAAQ8B,MAAO,CAACC,MAAO,OAAQhD,IAAK,OAAQC,KAAM,UAClD,cAACgB,EAAD,CAAQ8B,MAAO,CAACC,MAAO,OAAQhD,IAAK,OAAQC,KAAM,aAEpD,eAACmB,EAAD,WACE,eAACD,EAAD,WACGY,EACD,8CAIF,qCACKE,EADL,aAGA,kEAIDK,GACCjB,EAAiB4B,KAAI,SAACC,EAAGC,GAAJ,OACnB,cAAC,EAAD,GAAkBA,UE3JbC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.b467870d.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport moment from 'moment';\nimport {HeartFilled} from '@ant-design/icons'\nimport { BubbleHeart } from './bubble-heart';\n\nconst Container = styled.div`\n  background-color: #f7f7f7;\n  height: 100vh;\n  width: 100vw;\n  position: relative;\n  overflow: hidden;\n  color: #ab7c7c;\n`\n\nconst Header = styled.div`\n  padding: 36px 24px 0;\n`\n\nconst Dot = styled.div`\n  border-radius: 100px;\n  height: 40px;\n  width: 40px;\n  margin-bottom: 6px;\n  background-color: #f57c61;\n`\n\nconst Bar = styled.div`\n  height: 2px;\n  border-radius: 2px;\n  display: inline-block;\n  background-color: #dddddd;\n  margin-bottom: 6px;\n`\n\nconst TopBar = styled(Bar)`\n  width: 30px;\n`\n\nconst BottomBar = styled(Bar)`\n  width: 100px;\n`\n\nconst HeaderText = styled.div`\n  font-size: 24px;\n  font-weight: bold;\n`\n\nconst Background = styled.div`\n  border-radius: 10vw;\n  width: 80vw;\n  height: 80vw;\n  position: absolute;\n  background: #fff;\n  top: calc(50vh - 40vw);\n  right: -15vw;\n`\n\nconst Shadow = styled.div`\n  display: inline-block;\n  background: #fddfd8;\n  height: 8vw;\n  border-radius: 4vw;\n  position: absolute;\n  transform: rotate(-45deg);\n`\n\nconst HeartIconWrapper = styled.div`\n  font-size: 80vw;\n  color: #f57c61;\n  position: absolute;\n  top: -25vw;\n  right: -12vw;\n`\n\nconst JumboNumber = styled.div`\n  font-size: 96px;\n  font-weight: bold;\n  > small {\n    font-size: 24px;\n    position: relative;\n    bottom: 4px;\n    left: 4px;\n  }\n`\n\nconst Footer = styled.div`\n  position: absolute;\n  bottom: 24px;\n  left: 0;\n  padding: 24px;\n`\n\nconst bubbleHeartArray: null[] = []\nfor (let i = 0; i < 50; i++) {\n  bubbleHeartArray.push(null)\n}\n\nfunction App() {\n  const [flag, setFlag] = useState({})\n  const since = useMemo(() => (\n    moment('20210203', 'YYYYMMDD')\n  ), [])\n  const now = useMemo(() => (\n    moment()\n  ), [flag])\n\n  const diffDays = now.diff(since, 'days')\n  const diffSeconds = now.diff(since, 'seconds')\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setFlag({})\n    }, 1000)\n    return () => {\n      clearInterval(interval)\n    }\n  }, [])\n\n  const [animating, setAnimating] = useState(false)\n  console.log('animating', animating)\n\n  async function doAnimation() {\n    if (animating) {\n      return\n    }\n    setAnimating(true)\n    await new Promise<void>(resolve => {\n      setTimeout(() => {resolve()}, 5000)\n    })\n    setAnimating(false)\n  }\n\n  return (\n    <Container>\n      <Header>\n        <Dot/>\n        <TopBar/>\n        <HeaderText>\n          和两块在一起\n        </HeaderText>\n        <BottomBar/>\n      </Header>\n      <Background>\n        <HeartIconWrapper onClick={doAnimation}>\n          <HeartFilled/>\n        </HeartIconWrapper>\n        <Shadow style={{width: '24vw', top: '34vw', left: '-10vw'}}/>\n        <Shadow style={{width: '30vw', top: '52vw', left: '-9vw'}}/>\n        <Shadow style={{width: '20vw', top: '58vw', left: '12vw'}}/>\n      </Background>\n      <Footer>\n        <JumboNumber>\n          {diffDays}\n          <small>\n            天\n          </small>\n        </JumboNumber>\n        <div>\n          = {diffSeconds} 秒\n        </div>\n        <div>\n          从 2021.2.3 至今\n        </div>\n      </Footer>\n      {animating && (\n        bubbleHeartArray.map((v, index) => (\n          <BubbleHeart key={index} />\n        ))\n      )}\n    </Container>\n  );\n}\n\nexport default App;\n","import { HeartFilled } from \"@ant-design/icons\";\nimport React, { FC, useMemo } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst bubbleEffect = keyframes`\n  0% {\n    opacity: 0;\n    transform: translateY(0);\n  }\n\n  50% {\n    opacity: 0.8;\n    transform: translateY(5vh);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateY(10vh);\n  }\n`;\n\nconst Wrapper = styled.div<{size: number, left: number, top: number, delay: number}>`\n  opacity: 0;\n  font-size: ${p => p.size}vw;\n  color: #f19e8b;\n  position: fixed;\n  top: ${p => p.top}vh;\n  left: ${p => p.left}vw;\n  animation: ${bubbleEffect} 1s linear ${p => p.delay}ms;\n`\n\nexport const BubbleHeart: FC = () => {\n\n  const delay = useMemo(() => (\n    Math.floor(Math.random() * 100) * 20\n  ), [])\n  const size = useMemo(() => (\n    Math.floor(Math.random() * 40) + 10\n  ), [])\n  const top = useMemo(() => (\n    Math.floor(Math.random() * 120) - 20 - size/2\n  ), [])\n  const left = useMemo(() => (\n    Math.floor(Math.random() * 120) - 10 - size/2\n  ), [])\n\n  return (\n    <Wrapper size={size} left={left} top={top} delay={delay}>\n      <HeartFilled/>\n    </Wrapper>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}